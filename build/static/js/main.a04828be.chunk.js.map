{"version":3,"sources":["components/Contact.js","services/persons.js","components/Persons.js","components/PersonForm.js","components/Filter.js","components/Notification.js","App.js","index.js"],"names":["Contact","person","deletePerson","name","number","type","onClick","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Persons","persons","newKeyword","setPersons","filter","indexOf","trim","map","key","personToDelete","find","p","window","confirm","personService","PersonForm","setNotificationMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","event","preventDefault","existing","value","index","arr","returnedPerson","updatedPersons","message","messageType","setTimeout","catch","error","newPerson","length","concat","console","log","target","onChange","Filter","setKeyword","messageStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","Notification","messageObj","className","style","App","notificationMessage","useEffect","initialPersons","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a04828be.chunk.js","sourcesContent":["import React from 'react'\n\nconst Contact = ({ person, deletePerson }) => {\n    return <><span>{person.name} {person.number}</span><button type=\"button\" onClick={deletePerson}>delete</button><br /></>\n}\n\nexport default Contact","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = newObject => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nconst deleteItem = id => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nexport default {\n    getAll,\n    create,\n    update,\n    deleteItem\n}","import React from 'react'\nimport Contact from './Contact'\nimport personService from '../services/persons'\n\nconst Persons = ({ persons, newKeyword, setPersons }) => {\n    const deletePerson = id => {\n        const personToDelete = persons.find(p => p.id === id)\n        if (window.confirm(`Delete ${personToDelete.name}`)) {\n            personService.deleteItem(id)\n                .then(setPersons(persons.filter(p => p.id !== id)))\n\n        }\n\n    }\n    const personsToShow = persons.filter(person => person.name.indexOf(newKeyword.trim()) >= 0)\n    const rows = () => personsToShow.map(person => <Contact key={person.name} person={person} deletePerson={() => deletePerson(person.id)} />)\n\n    return rows()\n}\n\nexport default Persons","import React, { useState } from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ({ persons, setPersons, setNotificationMessage }) => {\n\n\n    const [newName, setNewName] = useState('')\n    const [newNumber, setNewNumber] = useState('')\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        let existing = persons.find((value, index, arr) => value.name === newName)\n        if (existing) {\n            let replace = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n            if (replace) {\n                existing.number = newNumber\n                personService.update(existing.id, existing).then(returnedPerson => {\n                    let updatedPersons = [...persons]\n                    updatedPersons.map(p => {\n                        if (p.id === existing.id) {\n                            p.number = existing.number\n                        }\n                    })\n                    setPersons(updatedPersons)\n                    setNotificationMessage({ message: `Updated ${existing.name}`, messageType: \"notice\" })\n                    setTimeout(() => {\n                        setNotificationMessage({ message: null })\n                    }, 5000);\n                })\n                    .catch(error => {\n                        setNotificationMessage(\n                            { message: `Information of ${existing.name} has already been removed from server`, messageType: \"error\" }\n                        )\n                        setTimeout(() => {\n                            setNotificationMessage({ message: null })\n                        }, 5000);\n                        setPersons(persons.filter(p => p.id !== existing.id))\n                    })\n            }\n        }\n        else {\n            let newPerson = { name: newName, number: newNumber, id: persons.length + 1 }\n            personService.create(newPerson)\n                .then(returnedPerson => {\n                    setPersons(persons.concat(newPerson))\n                    setNotificationMessage({ message: `Added ${newPerson.name}`, messageType: \"notice\" })\n                    setTimeout(() => {\n                        setNotificationMessage({ message: null })\n                    }, 5000);\n                })\n        }\n        console.log('button clicked', event.target)\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    return (\n        <form onSubmit={addPerson}>\n            <div>\n                name:<input value={newName} onChange={handleNameChange} /><br />\n                number:<input value={newNumber} onChange={handleNumberChange} />\n            </div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Filter = ({ newKeyword, setKeyword }) => {\n    const handleSearch = (event) => {\n        setKeyword(event.target.value)\n    }\n    return (<div>filter shown with<input value={newKeyword} onChange={handleSearch} /></div>)\n}\nexport default Filter ","import React from 'react'\n\nconst messageStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\n\nconst errorStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n}\nconst Notification = ({ messageObj }) => {\n    if (messageObj.message === null) {\n        return null\n    }\n\n    if (messageObj.messageType === \"notice\") {\n        return (\n            <div className=\"notification\" style={messageStyle}>{messageObj.message}</div>\n        )\n    }\n    else {\n        return (\n            <div className=\"notification\" style={errorStyle}>{messageObj.message}</div>\n        )\n    }\n}\nexport default Notification","import React, { useState, useEffect } from 'react';\nimport Persons from './components/Persons'\nimport PersonForm from './components/PersonForm'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n\n  const [persons, setPersons] = useState([])\n  const [newKeyword, setKeyword] = useState('')\n  const [notificationMessage, setNotificationMessage] = useState({ message: null, type: \"notice\" })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification messageObj={notificationMessage} />\n\n      <Filter newKeyword={newKeyword} setKeyword={setKeyword} />\n\n      <h3>add a new</h3>\n\n      <PersonForm persons={persons} setPersons={setPersons} setNotificationMessage={setNotificationMessage} />\n\n      <h3>Numbers</h3>\n\n      <Persons persons={persons} newKeyword={newKeyword} setPersons={setPersons} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n\n"],"sourceRoot":""}